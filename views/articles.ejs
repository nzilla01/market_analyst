<ul class="post">
  <% data.forEach(article => { %>
      <li>
          <% 
              // Extract the first image using regex
              const imgMatch = article.body.match(/<img.*?src=["'](.*?)["']/);
              const firstImage = imgMatch ? imgMatch[1] : null;

              // Strip HTML and limit text
              const textOnly = article.body.replace(/<[^>]*>/g, "").substring(0, 100);
          %>

          <% if (firstImage) { %>
              <img src="<%= firstImage %>" alt="Article Image" class="article-preview-img">
          <% } %>

          <p><%= textOnly %>...</p>
          <span><%= article.date.toDateString() %></span>
          <br>
          <a href="/article/<%= article._id %>" class="read-more">Read More</a>
      </li>
  <% }) %>
</ul>
