<div class="art">
<h2 class="edu">Education </h2>

<ul class="post" id="post-list">
    <% if (data && data.length > 0) { %>
        <% data.forEach(articleItem => { %> <!-- Use 'articleItem' to avoid conflicts -->
            <li>
                <% 
                    // Extract the first image using regex
                    const imgMatch = articleItem.body.match(/<img.*?src=["'](.*?)["']/);
                    const firstImage = imgMatch ? imgMatch[1] : null;

                    // Strip HTML tags and limit text preview
                    const textOnly = articleItem.body.replace(/<[^>]*>/g, "").substring(0, 100);
                %>

                <% if (firstImage) { %>
                    <img src="<%= firstImage %>" alt="Article Image" class="article-preview-img">
                <% } %>

                <p><%= textOnly %>...</p>
                <span><%= new Date(articleItem.date).toDateString() %></span>
                <br>
                <a href="/article/<%= articleItem._id %>" class="read-more">Read More</a>
            </li>
        <% }) %>
    <% } else { %>
        <p>No articles available.</p>
    <% } %>
</ul>

<!-- <button id="load-more">Load More</button> -->

</div>